(function(){this.rm||(this.rm={}),this._RM||(this._RM=[]),this._RMI||(this._RMI={}),_RMI.domain="https://secure.remetric.com",_RMI.api_key=!1,_RMI.detectPushes=function(){return _RM.push=function(a){return Array.prototype.push.call(this,a),_RMI.parseEvents()}},_RMI.parseEvents=function(){var a,b,c;for(b=0,c=_RM.length;c>b;b++)a=_RM[b],a=_RM.shift(),"domain"===a[0]?_RMI.domain=a[1]:"event"===a[0]?_RMI.track(a[1],a[2]):"api_key"===a[0]&&(_RMI.api_key=a[1]);return _RMI.detectPushes()},_RMI.track=function(a){var b,c;return c=document.createElement("img"),c.style.display="none",a.page={title:document.title,url:document.URL},b=encodeURIComponent(btoa(JSON.stringify(a))),c.src=""+_RMI.domain+"/api/"+_RMI.api_key+"/events/"+b,document.body.appendChild(c)},_RMI.notify=function(a,b,c){var d,e,f;return f=document.createElement("img"),f.style.display="none",a.page={title:document.title,url:document.URL},e={event:a,cta_id:b,notification_id:c},d=encodeURIComponent(btoa(JSON.stringify(e))),f.src=""+_RMI.domain+"/api/"+_RMI.api_key+"/notify/"+d,document.body.appendChild(f)},_RMI.parseEvents()}).call(this);